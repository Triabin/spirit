---
title: 贝塞尔曲线
createTime: 2025/2/14 17:32:06
tags:
  - 贝塞尔
  - 数学
  - 计算机
---

# 贝赛尔曲线

参考来源：[贝塞尔曲线- MDN Web 文档术语表：贝塞尔曲线](https://developer.mozilla.org/zh-CN/docs/Glossary/Bezier_curve)、[哔哩哔哩UP主 科技3D视界：贝塞尔曲线，完美的插值算法](https://www.bilibili.com/video/BV1YQCvYTEmT)

**贝塞尔曲线**（读作 [bezje]）是一种使用数学方法描述的曲线，被广泛用于计算机图形学和动画中。在矢量图中，贝塞尔曲线用于定义可无限放大的光滑曲线。

贝塞尔曲线由至少两个控制点进行描述。Web 技术中使用的是三次贝塞尔曲线，即使用四个控制点 P0、P1、P2 和 P3 描述的曲线。

在绘制二次贝塞尔曲线的过程中，需要先作两条辅助线：P0 到 P1 和 P1 到 P2；第三条辅助线从其起点稳步移动到第一辅助线上，终点在第二辅助线上。在这条辅助线上，有一个点从其起点稳步移动到其终点。这个点描述的曲线就是贝塞尔曲线。以下是一个动画示例，展示了曲线的创建过程：

**![bezier_2_big](https://gitee.com/triabin/img_bed/raw/master/2025/02/14/e40165c7c4d059db8c913daecf337d85-bezier_2_big.gif)**

## 1、起源发展过程

最初由保尔·德·卡斯特里奥于1959年运用德卡斯特里奥算法开发，以稳定数值的方法求出贝塞尔曲线。1962年法国工程师皮埃尔·贝兹为了使用电脑绘制汽车主体设计图所广泛发表。

推导过程：

要表示一个点在两个点之间的运行轨迹，可以使用如下式子进行表示，

<img src="https://gitee.com/triabin/img_bed/raw/master/2025/02/14/62c641f549f85e53d7fe5aac4cf48c6f-image-20250214175723238.png" alt="image-20250214175723238" style="zoom:30%;" align="left" />

<div style="clear: both;"></div>

式子经过转换可以修改为 $(1-t)a+tb$ ，这个式子有个专门的名字叫做Lerp表达式，即
$$
lerp(a,b,t)=(1-t)a+tb
$$
这个表达式在多维坐标中都可以直接使用。

当需要表3个点 $P_0$、$P_1$、$P_2$ 时，则需要两个Lerp表达式，$lerp(P_0,P_1,t)$ 和 $lerp(P_1,P_2,t)$，如果将在$P_0P1$ 和$P_1P2$ 两条线段上移动的点连接起来，连接起来以后又得到一条直线段，在该直线段上再套用一次Lerp表达式，运算出来的轨迹就得到了一条曲线（如下图）。

<img src="https://gitee.com/triabin/img_bed/raw/master/2025/02/14/f6c4f640f4b8447cb5338d26e90d942d-image-20250214181237379.png" alt="image-20250214181237379" style="zoom:50%;" align=left />

<div style="clear: both;"></div>

它表示在两个端点不断移动的同时，又有一个点从头移动到尾，它的轨迹就是这条曲线，并且这个曲线可以随意控制，只需要改变 $P_0$、$P_1$、$P_2$ 的位置即可调整曲线。（没有贝塞尔曲线就没有Adobe公司😏）

将嵌套的Lerp表达式一层层展开，即可得到它的表达式：
$$
\hspace{1em} lerp(lerp(P_0,P_1,t),lerp(P_1,P_2,t),t) \\
=lerp((1-t)P_0+tP_1,(1-t)P_1+tP_2) \\
=(1-t)[(1-t)P_0+tP_1]+t[(1-t)P_1+tP_2] \\
=(1-t)^2P_0+t(1-t)P_1+t^2P_2
$$
如果需要更加精细的调整曲线，则可以继续增加控制点，继续调整嵌套的Lerp表达式即可：

**![image-20250214182417380](https://gitee.com/triabin/img_bed/raw/master/2025/02/14/908f2178501f0ab1b4de7bfb27609170-image-20250214182417380.png)**

贝塞尔表达式的优势在于其实它非常简单，每个控制点都可以看成一个矢量，在每个矢量上都乘以一个变动的比例，根据这些矢量的不同比例就确定它们共同作用的那个点的不同位置从而确定了一条变动的曲线，如果想要控制曲线的走向也很简单，只需要调整控制点位置即可。这些运算对于人来说可能不容易，但是计算机却是可以实时计算出来一整条轨迹。

它的变化比例可以完全由多项式函数表示，所以无论是对它求导数还是求积分都会非常方便，于是它就被广泛应用于各种工业设计中。
$$
\text{三次贝塞尔曲线的广义矢量形式}\\
lp^3=
\left[
  \begin{array}{cccc}
  P_0 \\
  P_1 \\
  P_2 \\
  P_3
  \end{array}
\right]
·
\left[
  \begin{array}{cccc}
  1-3t+3t^2-t^3 \\
  3t-6t^2+3t^3 \\
  3t^2-3t^3 \\
  t^3
  \end{array}
\right]
$$

## 2、贝赛尔曲线在前端的应用

`SVG`路径`<path>`标签

SVG中的`<path>`元素用于创建路径，它是SVG中最强大和最灵活的基本形状之一，使用`<path>`元素可以绘制直线、曲线、弧线等各种复杂的图形，并且可以通过设置路径命令来控制路径的形状和样式。

基本语法：

```html
<path
  d="path-data"            <!-- 定义路径的路径数据 -->
  fill="fill-color"        <!-- 路径的填充颜色 -->
  stroke="stroke-color"    <!-- 路径的描边颜色 -->
  stroke-width="width"     <!-- 路径的描边宽度 -->
/>
```

属性解析：

 * d 属性定义了路径的路径数据，即路径命令序列。路径数据由一系列的路径命令组成，每个路径命令以字母开头，后面跟随一组数字参数。常用的路径命令包括：M（移动到）、L（直线到）、H（水平线到）、V（垂直线到）、C（三次贝塞尔曲线）、S（光滑曲线）、Q（二次贝塞尔曲线）、T（光滑二次贝塞尔曲线）、A（圆弧）、Z（闭合路径）等。
 * fill 属性定义了路径的填充颜色。
 * stroke 属性定义了路径的描边颜色。
 * stroke-width 属性定义了路径的描边宽度。
